<nav class="flex flex-col h-full">
  <h1
    class="text-3xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-logo to-purple-logo [-webkit-background-clip:text]"
  >
    <a [routerLink]="['/boards']" class="inline-block xl:hidden">TM</a>
    <a [routerLink]="['/boards']" class="hidden xl:inline-block">TaskManager</a>
  </h1>

  <div
    class="mt-6 text-center xl:text-start max-h-[calc(100vh-160px)] overflow-y-auto overflow-x-hidden scrollbar"
  >
    <ul class="board-list space-y-2 overflow-x-hidden">
      @for(board of boards(); track board.id) {
      <li
        class="inline-block xl:block font-medium rounded-full border-2 border-transparent hover:border-accent text-nowrap transition-[border-color]"
      >
        <a
          class="p-2 inline-flex xl:flex items-center gap-2 rounded-full"
          [routerLink]="['/boards', board.id]"
        >
          <div class="relative">
            <svg
              width="32"
              height="32"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle cx="12" cy="12" r="12" [style.fill]="board.color" />
            </svg>
            <img
              class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
              [src]="'../../../../assets/icons/' + board.icon + '.webp'"
              width="12"
              height="12"
            />
          </div>

          <span class="hidden xl:inline-block overflow-hidden text-ellipsis">
            {{ board.name }}
          </span>
        </a>
      </li>
      }
    </ul>

    <button
      class="mt-2 p-2 xl:w-full inline-flex xl:flex items-center gap-2 font-medium rounded-full border-2 border-transparent hover:border-accent text-nowrap transition-[border-color]"
      [disabled]="boardStatus() !== 'success'"
    >
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill="currentColor"
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 18C11.4477 18 11 17.5523 11 17V13H7C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11H11V7C11 6.44772 11.4477 6 12 6C12.5523 6 13 6.44772 13 7V11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H13V17C13 17.5523 12.5523 18 12 18Z"
        />
      </svg>
      <span class="sr-only xl:not-sr-only !whitespace-nowrap">
        Add new board
      </span>
    </button>
  </div>

  <div class="inline-flex xl:hidden justify-center mt-auto">
    <button
      class="p-2 rounded-lg hover:bg-background-elevated transition-[background-color]"
      [attr.aria-label]="
        isDarkMode() ? 'Switch to light mode' : 'Switch to dark mode'
      "
      (click)="toggleThemeMode()"
    >
      @if (isDarkMode()) {
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill="currentColor"
          d="M12 7C9.24 7 7 9.24 7 12C7 14.76 9.24 17 12 17C14.76 17 17 14.76 17 12C17 9.24 14.76 7 12 7ZM2 13H4C4.55 13 5 12.55 5 12C5 11.45 4.55 11 4 11H2C1.45 11 1 11.45 1 12C1 12.55 1.45 13 2 13ZM20 13H22C22.55 13 23 12.55 23 12C23 11.45 22.55 11 22 11H20C19.45 11 19 11.45 19 12C19 12.55 19.45 13 20 13ZM11 2V4C11 4.55 11.45 5 12 5C12.55 5 13 4.55 13 4V2C13 1.45 12.55 1 12 1C11.45 1 11 1.45 11 2ZM11 20V22C11 22.55 11.45 23 12 23C12.55 23 13 22.55 13 22V20C13 19.45 12.55 19 12 19C11.45 19 11 19.45 11 20ZM5.99 4.58C5.89749 4.4873 5.7876 4.41375 5.66662 4.36357C5.54565 4.31339 5.41597 4.28756 5.285 4.28756C5.15403 4.28756 5.02435 4.31339 4.90338 4.36357C4.7824 4.41375 4.67251 4.4873 4.58 4.58C4.4873 4.67251 4.41375 4.7824 4.36357 4.90338C4.31339 5.02435 4.28756 5.15403 4.28756 5.285C4.28756 5.41597 4.31339 5.54565 4.36357 5.66662C4.41375 5.7876 4.4873 5.89749 4.58 5.99L5.64 7.05C6.03 7.44 6.67 7.44 7.05 7.05C7.43 6.66 7.44 6.02 7.05 5.64L5.99 4.58ZM18.36 16.95C18.2675 16.8573 18.1576 16.7837 18.0366 16.7336C17.9157 16.6834 17.786 16.6576 17.655 16.6576C17.524 16.6576 17.3944 16.6834 17.2734 16.7336C17.1524 16.7837 17.0425 16.8573 16.95 16.95C16.8573 17.0425 16.7837 17.1524 16.7336 17.2734C16.6834 17.3944 16.6576 17.524 16.6576 17.655C16.6576 17.786 16.6834 17.9157 16.7336 18.0366C16.7837 18.1576 16.8573 18.2675 16.95 18.36L18.01 19.42C18.4 19.81 19.04 19.81 19.42 19.42C19.5127 19.3275 19.5863 19.2176 19.6364 19.0966C19.6866 18.9757 19.7124 18.846 19.7124 18.715C19.7124 18.584 19.6866 18.4543 19.6364 18.3334C19.5863 18.2124 19.5127 18.1025 19.42 18.01L18.36 16.95ZM19.42 5.99C19.5127 5.89749 19.5863 5.7876 19.6364 5.66662C19.6866 5.54565 19.7124 5.41597 19.7124 5.285C19.7124 5.15403 19.6866 5.02435 19.6364 4.90338C19.5863 4.7824 19.5127 4.67251 19.42 4.58C19.3275 4.4873 19.2176 4.41375 19.0966 4.36357C18.9757 4.31339 18.846 4.28756 18.715 4.28756C18.584 4.28756 18.4543 4.31339 18.3334 4.36357C18.2124 4.41375 18.1025 4.4873 18.01 4.58L16.95 5.64C16.56 6.03 16.56 6.67 16.95 7.05C17.34 7.43 17.98 7.44 18.36 7.05L19.42 5.99ZM7.05 18.36C7.1427 18.2675 7.21625 18.1576 7.26643 18.0366C7.31661 17.9157 7.34244 17.786 7.34244 17.655C7.34244 17.524 7.31661 17.3944 7.26643 17.2734C7.21625 17.1524 7.1427 17.0425 7.05 16.95C6.95749 16.8573 6.8476 16.7837 6.72662 16.7336C6.60565 16.6834 6.47597 16.6576 6.345 16.6576C6.21403 16.6576 6.08435 16.6834 5.96338 16.7336C5.8424 16.7837 5.73251 16.8573 5.64 16.95L4.58 18.01C4.19 18.4 4.19 19.04 4.58 19.42C4.97 19.8 5.61 19.81 5.99 19.42L7.05 18.36Z"
        />
      </svg>
      } @else {
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill="currentColor"
          d="M12.0001 1.99194C10.1898 1.99228 8.41358 2.48402 6.86085 3.41471C5.30811 4.3454 4.03715 5.68013 3.18352 7.27653C2.32989 8.87292 1.92562 10.6711 2.01384 12.4792C2.10205 14.2874 2.67944 16.0377 3.68441 17.5434C4.68939 19.0491 6.08424 20.2538 7.7202 21.0289C9.35615 21.804 11.1718 22.1205 12.9736 21.9446C14.7753 21.7687 16.4955 21.1071 17.9506 20.0302C19.4058 18.9533 20.5413 17.5016 21.2361 15.8299C21.5771 15.0099 20.7601 14.1859 19.9381 14.5199C18.5293 15.0906 16.965 15.1495 15.5173 14.6864C14.0695 14.2232 12.8299 13.2674 12.0139 11.985C11.1978 10.7026 10.8571 9.17472 11.0508 7.6671C11.2445 6.15947 11.9604 4.76741 13.0741 3.73294L13.1511 3.65294C13.7021 3.02294 13.2641 1.99994 12.3931 1.99994H12.1271L12.0591 1.99394L12.0001 1.99194Z"
        />
      </svg>
      }
    </button>
  </div>

  <div
    class="hidden xl:flex relative items-center mt-auto w-full p-1 bg-background-elevated rounded-xl before:absolute before:w-[calc(50%-4px)] before:h-[calc(100%-8px)] before:bg-background before:rounded-lg before:top-1 before:transition-transform"
    [ngClass]="{ 'before:translate-x-full': !isDarkMode() }"
  >
    <button
      class="inline-flex items-center justify-center gap-2 font-medium p-2 rounded-lg w-full z-10 theme-buttons"
      data-mode="dark"
      (click)="switchToDarkMode()"
    >
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill="currentColor"
          d="M12.0001 1.99194C10.1898 1.99228 8.41358 2.48402 6.86085 3.41471C5.30811 4.3454 4.03715 5.68013 3.18352 7.27653C2.32989 8.87292 1.92562 10.6711 2.01384 12.4792C2.10205 14.2874 2.67944 16.0377 3.68441 17.5434C4.68939 19.0491 6.08424 20.2538 7.7202 21.0289C9.35615 21.804 11.1718 22.1205 12.9736 21.9446C14.7753 21.7687 16.4955 21.1071 17.9506 20.0302C19.4058 18.9533 20.5413 17.5016 21.2361 15.8299C21.5771 15.0099 20.7601 14.1859 19.9381 14.5199C18.5293 15.0906 16.965 15.1495 15.5173 14.6864C14.0695 14.2232 12.8299 13.2674 12.0139 11.985C11.1978 10.7026 10.8571 9.17472 11.0508 7.6671C11.2445 6.15947 11.9604 4.76741 13.0741 3.73294L13.1511 3.65294C13.7021 3.02294 13.2641 1.99994 12.3931 1.99994H12.1271L12.0591 1.99394L12.0001 1.99194Z"
        />
      </svg>
      Dark
    </button>

    <button
      class="inline-flex items-center justify-center gap-2 font-medium p-2 rounded-lg w-full z-10 theme-buttons"
      data-mode="light"
      (click)="switchToLightMode()"
    >
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill="currentColor"
          d="M12 7C9.24 7 7 9.24 7 12C7 14.76 9.24 17 12 17C14.76 17 17 14.76 17 12C17 9.24 14.76 7 12 7ZM2 13H4C4.55 13 5 12.55 5 12C5 11.45 4.55 11 4 11H2C1.45 11 1 11.45 1 12C1 12.55 1.45 13 2 13ZM20 13H22C22.55 13 23 12.55 23 12C23 11.45 22.55 11 22 11H20C19.45 11 19 11.45 19 12C19 12.55 19.45 13 20 13ZM11 2V4C11 4.55 11.45 5 12 5C12.55 5 13 4.55 13 4V2C13 1.45 12.55 1 12 1C11.45 1 11 1.45 11 2ZM11 20V22C11 22.55 11.45 23 12 23C12.55 23 13 22.55 13 22V20C13 19.45 12.55 19 12 19C11.45 19 11 19.45 11 20ZM5.99 4.58C5.89749 4.4873 5.7876 4.41375 5.66662 4.36357C5.54565 4.31339 5.41597 4.28756 5.285 4.28756C5.15403 4.28756 5.02435 4.31339 4.90338 4.36357C4.7824 4.41375 4.67251 4.4873 4.58 4.58C4.4873 4.67251 4.41375 4.7824 4.36357 4.90338C4.31339 5.02435 4.28756 5.15403 4.28756 5.285C4.28756 5.41597 4.31339 5.54565 4.36357 5.66662C4.41375 5.7876 4.4873 5.89749 4.58 5.99L5.64 7.05C6.03 7.44 6.67 7.44 7.05 7.05C7.43 6.66 7.44 6.02 7.05 5.64L5.99 4.58ZM18.36 16.95C18.2675 16.8573 18.1576 16.7837 18.0366 16.7336C17.9157 16.6834 17.786 16.6576 17.655 16.6576C17.524 16.6576 17.3944 16.6834 17.2734 16.7336C17.1524 16.7837 17.0425 16.8573 16.95 16.95C16.8573 17.0425 16.7837 17.1524 16.7336 17.2734C16.6834 17.3944 16.6576 17.524 16.6576 17.655C16.6576 17.786 16.6834 17.9157 16.7336 18.0366C16.7837 18.1576 16.8573 18.2675 16.95 18.36L18.01 19.42C18.4 19.81 19.04 19.81 19.42 19.42C19.5127 19.3275 19.5863 19.2176 19.6364 19.0966C19.6866 18.9757 19.7124 18.846 19.7124 18.715C19.7124 18.584 19.6866 18.4543 19.6364 18.3334C19.5863 18.2124 19.5127 18.1025 19.42 18.01L18.36 16.95ZM19.42 5.99C19.5127 5.89749 19.5863 5.7876 19.6364 5.66662C19.6866 5.54565 19.7124 5.41597 19.7124 5.285C19.7124 5.15403 19.6866 5.02435 19.6364 4.90338C19.5863 4.7824 19.5127 4.67251 19.42 4.58C19.3275 4.4873 19.2176 4.41375 19.0966 4.36357C18.9757 4.31339 18.846 4.28756 18.715 4.28756C18.584 4.28756 18.4543 4.31339 18.3334 4.36357C18.2124 4.41375 18.1025 4.4873 18.01 4.58L16.95 5.64C16.56 6.03 16.56 6.67 16.95 7.05C17.34 7.43 17.98 7.44 18.36 7.05L19.42 5.99ZM7.05 18.36C7.1427 18.2675 7.21625 18.1576 7.26643 18.0366C7.31661 17.9157 7.34244 17.786 7.34244 17.655C7.34244 17.524 7.31661 17.3944 7.26643 17.2734C7.21625 17.1524 7.1427 17.0425 7.05 16.95C6.95749 16.8573 6.8476 16.7837 6.72662 16.7336C6.60565 16.6834 6.47597 16.6576 6.345 16.6576C6.21403 16.6576 6.08435 16.6834 5.96338 16.7336C5.8424 16.7837 5.73251 16.8573 5.64 16.95L4.58 18.01C4.19 18.4 4.19 19.04 4.58 19.42C4.97 19.8 5.61 19.81 5.99 19.42L7.05 18.36Z"
        />
      </svg>

      Light
    </button>
  </div>
</nav>
